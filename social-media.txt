MERN Stack Social Media App - Project Plan

            ğŸ”Auth & User Management
 
 POST    /auth/register         Register a new user
 POST    /auth/login            Login user (JWT-based)
 GET     /auth/me               Get current logged-in user
 PUT     /auth/profile          Update user profile
 GET     /auth/users            (Admin) Get all users
 PUT     /auth/users/:id/block  (Admin) Block a user
 PUT     /auth/users/:id/unblock (Admin) Unblock a user

                 ğŸ“ Post Management

 POST    /posts                 Create a new post
 GET     /posts                 Get all public posts
 GET     /posts/:id            Get post details
 PUT     /posts/:id            Update own post
 DELETE  /posts/:id            Delete own post
 GET     /posts/user/:userId   Get posts by a user

                  â¤ï¸Likes & Comments

 POST    /posts/:id/like        Like a post
 POST    /posts/:id/unlike      Unlike a post
 POST    /posts/:id/comment     Add comment
 DELETE  /posts/:postId/comments/:commentId  Delete comment


                    ğŸ‘¥Follow System


 POST    /users/:id/follow      Follow a user
 POST    /users/:id/unfollow    Unfollow a user
 GET     /users/:id/followers   Get list of followers
 GET     /users/:id/following   Get list of following

                    ğŸ—‚ï¸File Uploads

 POST    /upload/avatar         Upload profile picture
 POST    /upload/post           Upload post image
 GET     /uploads/:filename     Serve uploaded file

                    ğŸ””Notifications
                    
 GET     /notifications         Get user notifications
 DELETE  /notifications/:id     Mark or delete notification


                    ğŸ—‚ï¸back-end Folder Structure

  backend/
â”œâ”€â”€ controllers/
â”‚   â”œâ”€â”€ authController.js
â”‚   â”œâ”€â”€ postController.js
â”‚   â”œâ”€â”€ userController.js
â”‚   â”œâ”€â”€ commentController.js
â”‚   â”œâ”€â”€ notificationController.js
â”‚   â””â”€â”€ adminController.js
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ User.js
â”‚   â”œâ”€â”€ Post.js
â”‚   â”œâ”€â”€ Comment.js
â”‚   â”œâ”€â”€ Notification.js
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ auth.js
â”‚   â”œâ”€â”€ posts.js
â”‚   â”œâ”€â”€ users.js
â”‚   â”œâ”€â”€ comments.js
â”‚   â”œâ”€â”€ notifications.js
â”‚   â””â”€â”€ admin.js
â”œâ”€â”€ middleware/
â”‚   â”œâ”€â”€ authMiddleware.js
â”‚   â”œâ”€â”€ roleMiddleware.js
â”‚   â””â”€â”€ errorHandler.js
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ upload.js
â”œâ”€â”€ config/
â”‚   â””â”€â”€ db.js
â”œâ”€â”€ uploads/
â”œâ”€â”€ .env
â”œâ”€â”€ server.js
â””â”€â”€ package.json
                   
                MongoDB Schemas


            User.js:

const mongoose = require('mongoose');

const userSchema = new mongoose.Schema({
  name: String,
  email: { type: String, unique: true },
  password: String,
  avatar: String,
  bio: String,
  followers: [{ type: mongoose.Schema.Types.ObjectId, ref: 'User' }],
  following: [{ type: mongoose.Schema.Types.ObjectId, ref: 'User' }],
  isBlocked: { type: Boolean, default: false },
  role: { type: String, enum: ['user', 'admin'], default: 'user' }
}, { timestamps: true });

module.exports = mongoose.model('User', userSchema);



                Post.js:

const mongoose = require('mongoose');

const postSchema = new mongoose.Schema({
  caption: String,
  image: String,
  author: { type: mongoose.Schema.Types.ObjectId, ref: 'User' },
  likes: [{ type: mongoose.Schema.Types.ObjectId, ref: 'User' }],
  comments: [{ type: mongoose.Schema.Types.ObjectId, ref: 'Comment' }]
  tags: [{ type: mongoose.Schema.Types.ObjectId, ref: 'Tag' }]
}, { timestamps: true });

module.exports = mongoose.model('Post', postSchema);



            Comment.js:
const mongoose = require('mongoose');

const commentSchema = new mongoose.Schema({
  text: String,
  author: { type: mongoose.Schema.Types.ObjectId, ref: 'User' },
  post: { type: mongoose.Schema.Types.ObjectId, ref: 'Post' }
}, { timestamps: true });

module.exports = mongoose.model('Comment', commentSchema);


            Notification.js:

const mongoose = require('mongoose');

const notificationSchema = new mongoose.Schema({
  toUser: { type: mongoose.Schema.Types.ObjectId, ref: 'User' },
  message: String,
  isRead: { type: Boolean, default: false }
}, { timestamps: true });

module.exports = mongoose.model('Notification', notificationSchema);

              tag.js:(optional:)

const mongoose = require('mongoose');

const tagSchema = new mongoose.Schema({
  name: { type: String, unique: true, lowercase: true, trim: true },
  description: String,
  usageCount: { type: Number, default: 0 }
}, { timestamps: true });

module.exports = mongoose.model('Tag', tagSchema);


            âœ…route

routes/
â”œâ”€â”€ auth.js
â”œâ”€â”€ users.js
â”œâ”€â”€ posts.js
â”œâ”€â”€ comments.js
â”œâ”€â”€ notifications.js
â”œâ”€â”€ tags.js       â† (optional if you use Tag schema)
â”œâ”€â”€ messages.js   â† (if you add DM feature later)


                 ğŸ“„1.auth.js

const express = require('express');
const router = express.Router();
const authController = require('../controllers/authController');

router.post('/register', authController.register);
router.post('/login', authController.login);
router.get('/me', authController.getMe);
router.put('/profile', authController.updateProfile);

module.exports = router;

                    ğŸ“„2.users.js

const express = require('express');
const router = express.Router();
const userController = require('../controllers/userController');

router.get('/', userController.getAllUsers);
router.get('/:id', userController.getUserById);
router.put('/:id/follow', userController.followUser);
router.put('/:id/unfollow', userController.unfollowUser);
router.put('/:id/block', userController.blockUser);
router.put('/:id/unblock', userController.unblockUser);

module.exports = router;


                      ğŸ“„3.posts.js

 const express = require('express');
const router = express.Router();
const postController = require('../controllers/postController');

router.post('/', postController.createPost);
router.get('/', postController.getAllPosts);
router.get('/:id', postController.getPostById);
router.put('/:id', postController.updatePost);
router.delete('/:id', postController.deletePost);

router.put('/:id/like', postController.likePost);
router.put('/:id/unlike', postController.unlikePost);

module.exports = router;


                        ğŸ“„4.comments.js

const express = require('express');
const router = express.Router();
const commentController = require('../controllers/commentController');

router.post('/:postId', commentController.addComment);
router.delete('/:id', commentController.deleteComment);

module.exports = router;


                        ğŸ“„5.notifications.js

const express = require('express');
const router = express.Router();
const notificationController = require('../controllers/notificationController');

router.get('/', notificationController.getNotifications);
router.delete('/:id', notificationController.deleteNotification);

module.exports = router;


                        ğŸ“„6.tags.js(optional)

const express = require('express');
const router = express.Router();
const tagController = require('../controllers/tagController');

router.get('/', tagController.getAllTags);
router.post('/', tagController.createTag);
router.delete('/:id', tagController.deleteTag);

module.exports = router;


                    ğŸ§©Connecting all routes in server.js:

const express = require('express');
const app = express();

app.use('/api/auth', require('./routes/auth'));
app.use('/api/users', require('./routes/users'));
app.use('/api/posts', require('./routes/posts'));
app.use('/api/comments', require('./routes/comments'));
app.use('/api/notifications', require('./routes/notifications'));
app.use('/api/tags', require('./routes/tags'));

module.exports = app;
